<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Journal Package</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      /* Base styles */
      :root {
        --primary: #a57456;
        --secondary: #e29578;
        --background: #fffbf8;
        --text: #3d405b;
        --accent: #ffddd2;
        --card-bg: white;
        --prompt-bg: #ffeee7;
        --font-heading: "Playfair Display", serif;
        --font-sans: "Poppins", sans-serif;
        --shadow: rgba(0, 0, 0, 0.1);
      }

      /* Dark mode styles */
      .dark-mode {
        --primary: #e29578;
        --secondary: #a57456;
        --background: #222831;
        --text: #e8e8e8;
        --accent: #393e46;
        --card-bg: #2c3440;
        --prompt-bg: #393e46;
        --shadow: rgba(0, 0, 0, 0.3);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: var(--font-sans);
        background-color: var(--background);
        color: var(--text);
        line-height: 1.5;
        transition:
          background-color 0.3s ease,
          color 0.3s ease;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-family: var(--font-heading);
        color: var(--primary);
        transition: color 0.3s ease;
      }

      .container {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }

      /* Header styles */
      header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 50;
        transition: all 0.3s ease;
        background-color: var(--background);
      }

      header.scrolled {
        background-color: var(--primary);
        box-shadow: 0 4px 6px var(--shadow);
      }

      header.scrolled a,
      header.scrolled .theme-toggle {
        color: white;
      }

      nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 4rem;
      }

      .site-title {
        font-size: 1.5rem;
        font-weight: bold;
        cursor: pointer;
      }

      .nav-links {
        display: none;
      }

      .nav-links a {
        margin-left: 1.5rem;
        font-weight: 500;
        color: var(--primary);
        text-decoration: none;
        transition: color 0.3s ease;
      }

      .nav-links a:hover,
      .nav-links a.active {
        color: var(--secondary);
      }

      .menu-button {
        background: none;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
        color: var(--primary);
      }

      header.scrolled .menu-button {
        color: white;
      }

      .mobile-menu {
        position: absolute;
        top: 4rem;
        left: 0;
        right: 0;
        background-color: var(--card-bg);
        box-shadow: 0 4px 6px var(--shadow);
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.3s ease;
      }

      .mobile-menu.open {
        max-height: 500px;
      }

      .mobile-menu a {
        display: block;
        padding: 1rem;
        border-bottom: 1px solid var(--accent);
        color: var(--primary);
        text-decoration: none;
        font-weight: 500;
      }

      .mobile-menu a:hover,
      .mobile-menu a.active {
        color: var(--secondary);
      }

      /* Theme toggle */
      .theme-toggle {
        background: none;
        border: none;
        font-size: 1.25rem;
        cursor: pointer;
        color: var(--primary);
        margin-left: 1rem;
        transition: color 0.3s ease;
        display: flex;
        align-items: center;
        padding: 0.5rem;
      }

      .theme-toggle:hover {
        color: var(--secondary);
      }

      /* Main content styles */
      main {
        padding-top: 5rem;
        padding-bottom: 3rem;
      }

      section {
        margin-bottom: 4rem;
        scroll-margin-top: 5rem;
      }

      section h2 {
        font-size: 2rem;
        margin-bottom: 0.5rem;
      }

      section p {
        color: var(--text);
        margin-bottom: 2rem;
        opacity: 0.8;
      }

      /* Music section */
      .music-section {
        background-color: var(--prompt-bg);
        padding: 2rem 1.5rem;
        border-radius: 0.75rem;
        margin-bottom: 2rem;
        margin-top: 4rem;
        transition: background-color 0.3s ease;
      }

      .music-heading {
        font-size: 1.25rem;
        margin-bottom: 1.5rem;
        text-align: center;
        padding: 0 1rem;
        word-wrap: break-word;
        line-height: 1.4;
        white-space: normal;
        overflow: visible;
      }

      .music-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        justify-content: center;
      }

      .music-button {
        background-color: var(--primary);
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        cursor: pointer;
        font-weight: 500;
        transition:
          background-color 0.3s ease,
          transform 0.3s ease;
      }

      .music-button:hover {
        background-color: var(--secondary);
        transform: translateY(-2px);
      }

      .music-button.active {
        background-color: var(--secondary);
        box-shadow: 0 0 8px var(--secondary);
      }

      .music-player {
        margin-top: 1.5rem;
        display: none;
        max-width: 100%;
        overflow: hidden;
      }

      .music-player.active {
        display: block;
      }

      .music-player iframe {
        width: 100%;
        max-width: 560px;
        margin: 0 auto;
        display: block;
        border-radius: 0.5rem;
        box-shadow: 0 4px 8px var(--shadow);
      }

      /* Card styles */
      .card {
        background-color: var(--card-bg);
        border-radius: 0.75rem;
        box-shadow: 0 4px 6px var(--shadow);
        border: 1px solid var(--accent);
        overflow: hidden;
        margin-bottom: 1.5rem;
        transition:
          transform 0.3s ease,
          box-shadow 0.3s ease,
          background-color 0.3s ease;
      }

      .card:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 15px var(--shadow);
      }

      .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1.5rem;
        cursor: pointer;
      }

      .card-title {
        font-size: 1.25rem;
        font-weight: 600;
      }

      .card-description {
        font-size: 0.875rem;
        color: var(--text);
        opacity: 0.8;
        padding: 0 1.5rem 1.5rem;
      }

      .card-content {
        padding: 0 1.5rem 1.5rem;
        max-height: 0;
        overflow: hidden;
        transition:
          max-height 0.3s ease,
          opacity 0.3s ease;
        opacity: 0;
      }

      .card-content.open {
        max-height: 2000px;
        opacity: 1;
      }

      .card-content p {
        margin-bottom: 1rem;
      }

      /* Journal prompt styles */
      .prompt-card {
        background-color: var(--prompt-bg);
        border-radius: 0.5rem;
        padding: 1rem;
        margin-bottom: 1rem;
        transition: background-color 0.3s ease;
      }

      /* Food tabs styles */
      .tabs {
        margin-bottom: 2rem;
      }

      .tab-list {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        border-bottom: 1px solid var(--accent);
        margin-bottom: 1.5rem;
      }

      .tab {
        padding: 0.5rem 1rem;
        font-weight: 500;
        color: var(--text);
        opacity: 0.7;
        cursor: pointer;
        border-bottom: 2px solid transparent;
        transition:
          color 0.3s ease,
          border-color 0.3s ease,
          opacity 0.3s ease;
      }

      .tab.active {
        color: var(--primary);
        border-bottom-color: var(--primary);
        opacity: 1;
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      .food-item {
        display: flex;
        align-items: center;
        margin-bottom: 0.5rem;
      }

      .food-item:before {
        content: "â€¢";
        color: var(--secondary);
        margin-right: 0.5rem;
      }

      .recipe {
        background-color: var(--prompt-bg);
        border-radius: 0.5rem;
        padding: 1.25rem;
        margin-top: 1.5rem;
        transition: background-color 0.3s ease;
      }

      .recipe h4 {
        font-size: 1.25rem;
        margin-bottom: 0.75rem;
      }

      .recipe-meta {
        font-size: 0.875rem;
        color: var(--text);
        opacity: 0.8;
        margin-bottom: 1rem;
      }

      .recipe-section {
        margin-bottom: 1rem;
      }

      .recipe-section h5 {
        font-weight: 500;
        color: var(--text);
        margin-bottom: 0.5rem;
      }

      .recipe-section ul,
      .recipe-section ol {
        margin-left: 1.25rem;
        color: var(--text);
        opacity: 0.8;
      }

      .recipe-notes {
        font-style: italic;
        font-size: 0.875rem;
        color: var(--text);
        opacity: 0.8;
        margin-top: 0.75rem;
      }

      /* Affirmation styles */
      .au-accordion {
        margin-top: 2rem;
      }

      .au-item {
        background-color: var(--prompt-bg);
        border-radius: 0.5rem;
        overflow: hidden;
        margin-bottom: 1rem;
        transition: background-color 0.3s ease;
      }

      .au-trigger {
        padding: 1rem;
        font-weight: 500;
        color: var(--primary);
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .au-content {
        padding: 0 1rem 1rem;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
      }

      .au-content.open {
        max-height: 2000px;
      }

      /* Media grid */
      .media-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .media-card {
        background-color: var(--card-bg);
        border-radius: 0.75rem;
        box-shadow: 0 4px 6px var(--shadow);
        padding: 1.25rem;
        border: 1px solid var(--accent);
        transition:
          transform 0.3s ease,
          box-shadow 0.3s ease,
          background-color 0.3s ease;
      }

      .media-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 15px var(--shadow);
      }

      .video-link-container {
        margin-top: 1.5rem;
        text-align: center;
      }
      .video-link {
        display: inline-block;
        text-decoration: none;
        color: var(--primary);
        transition: transform 0.3s ease;
      }
      .video-link:hover {
        transform: scale(1.05);
      }
      .video-thumbnail {
        background-color: var(--prompt-bg);
        border-radius: 0.75rem;
        padding: 2rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
        box-shadow: 0 4px 10px var(--shadow);
      }
      .video-thumbnail i {
        font-size: 3rem;
        color: var(--primary);
      }
      .video-thumbnail span {
        font-weight: 500;
      }

      .media-card h4 {
        font-size: 1.25rem;
        margin-bottom: 0.75rem;
        color: var(--primary);
      }

      .media-list {
        max-height: 300px;
        overflow-y: auto;
        padding-right: 0.5rem;
      }

      .media-list::-webkit-scrollbar {
        width: 6px;
      }

      .media-list::-webkit-scrollbar-track {
        background: var(--background);
        border-radius: 10px;
      }

      .media-list::-webkit-scrollbar-thumb {
        background: var(--primary);
        border-radius: 10px;
      }

      .media-item {
        margin-bottom: 0.5rem;
        display: flex;
        align-items: flex-start;
      }

      .media-item:before {
        content: "â€¢";
        color: var(--secondary);
        margin-right: 0.5rem;
        flex-shrink: 0;
      }

      .media-year {
        font-size: 0.8rem;
        opacity: 0.7;
        margin-left: 0.25rem;
      }

      /* Resources section */
      .resources-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .resource-card {
        background-color: var(--card-bg);
        border-radius: 0.75rem;
        box-shadow: 0 4px 6px var(--shadow);
        padding: 1.25rem;
        border: 1px solid var(--accent);
        transition:
          transform 0.3s ease,
          box-shadow 0.3s ease,
          background-color 0.3s ease;
      }

      .resource-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 15px var(--shadow);
      }

      .resource-card h4 {
        font-size: 1.25rem;
        margin-bottom: 0.75rem;
        color: var(--primary);
      }

      .resource-card {
        margin-bottom: 1rem;
        overflow: hidden;
      }
      .resource-link {
        display: inline-block;
        color: var(--primary);
        text-decoration: none;
        font-weight: 500;
        margin-top: 0.5rem;
        transition: color 0.3s ease;
      }

      .resource-link:hover {
        color: var(--secondary);
        text-decoration: underline;
      }

      .resource-link i {
        margin-left: 0.25rem;
      }

      /* Video container */
      .video-container {
        position: relative;
        padding-bottom: 56.25%;
        height: 0;
        overflow: hidden;
        border-radius: 0.75rem;
        margin-top: 1.5rem;
        margin-bottom: 1rem;
        box-shadow: 0 4px 10px var(--shadow);
        clear: both;
      }

      .video-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
      }

      /* Coloring pages */
      .coloring-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1.5rem;
        margin-top: 2rem;
        clear: both;
      }

      .coloring-item {
        background-color: var(--card-bg);
        border-radius: 0.75rem;
        overflow: hidden;
        box-shadow: 0 4px 6px var(--shadow);
        transition:
          transform 0.3s ease,
          box-shadow 0.3s ease;
      }

      .coloring-item:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 15px var(--shadow);
      }

      .coloring-image {
        width: 100%;
        height: auto;
        display: block;
        background-color: white;
      }

      .coloring-caption {
        padding: 1rem;
        text-align: center;
        font-size: 0.9rem;
        color: var(--text);
      }

      .download-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background-color: var(--primary);
        color: white;
        padding: 0.35rem 0.75rem;
        border-radius: 0.5rem;
        font-size: 0.85rem;
        margin-top: 0.5rem;
        text-decoration: none;
        transition:
          background-color 0.3s ease,
          transform 0.3s ease;
      }

      .download-btn:hover {
        background-color: var(--secondary);
        transform: translateY(-2px);
      }

      .download-btn i {
        margin-right: 0.35rem;
      }

      /* Button styles */
      .btn {
        display: inline-block;
        background-color: var(--primary);
        color: white;
        padding: 0.5rem 1.25rem;
        border-radius: 0.5rem;
        font-weight: 500;
        text-decoration: none;
        transition:
          background-color 0.3s ease,
          transform 0.3s ease;
        border: none;
        cursor: pointer;
        margin-top: 1rem;
      }

      .btn:hover {
        background-color: var(--secondary);
        transform: translateY(-2px);
      }

      /* Footer styles */
      footer {
        background-color: var(--primary);
        color: white;
        padding: 2rem 0;
        transition: background-color 0.3s ease;
      }

      .footer-content {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
      }

      .footer-logo {
        margin-bottom: 1rem;
      }

      .footer-logo h2 {
        color: white;
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
      }

      .footer-logo p {
        color: rgba(255, 255, 255, 0.8);
        font-size: 0.875rem;
      }

      .footer-text p {
        color: rgba(255, 255, 255, 0.8);
        font-size: 0.875rem;
        text-align: center;
        margin-bottom: 0.25rem;
      }

      /* Grid styles */
      .grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      /* Media queries */
      @media (min-width: 768px) {
        .nav-links {
          display: flex;
        }

        .menu-button {
          display: none;
        }

        .grid,
        .media-grid,
        .resources-grid {
          grid-template-columns: repeat(2, 1fr);
        }

        .footer-content {
          flex-direction: row;
        }

        .footer-logo {
          margin-bottom: 0;
        }

        .footer-text {
          text-align: right;
        }

        .coloring-grid {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      @media (min-width: 1024px) {
        .grid {
          grid-template-columns: repeat(3, 1fr);
        }

        .media-grid,
        .resources-grid {
          grid-template-columns: repeat(3, 1fr);
        }

        .coloring-grid {
          grid-template-columns: repeat(4, 1fr);
        }
      }

      /* Utility classes */
      .chevron-icon {
        transition: transform 0.3s ease;
      }

      .chevron-icon.open {
        transform: rotate(180deg);
      }

      .text-center {
        text-align: center;
      }

      .mb-4 {
        margin-bottom: 1rem;
      }

      .mb-8 {
        margin-bottom: 2rem;
      }

      .animated {
        animation: fadeIn 0.5s ease-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
    <body>
    <header id="header">
      <div class="container">
        <nav>
          <a href="#" class="site-title">Journal Package</a>
          <div class="nav-links">
            <a href="#music" class="nav-link">Music</a>
            <a href="#journal" class="nav-link">Journal</a>
            <a href="#media" class="nav-link">Media</a>
            <a href="#resources" class="nav-link">Resources</a>
            <button
              id="theme-toggle"
              class="theme-toggle"
              aria-label="Toggle dark mode"
            >
              <i class="fas fa-moon"></i>
            </button>
          </div>
          <div style="display: flex; align-items: center">
            <button
              id="mobile-theme-toggle"
              class="theme-toggle"
              aria-label="Toggle dark mode"
            >
              <i class="fas fa-moon"></i>
            </button>
            <button class="menu-button" id="menu-toggle">â˜°</button>
          </div>
        </nav>
      </div>
      <div class="mobile-menu" id="mobile-menu">
        <a href="#music" class="mobile-link">Music</a>
        <a href="#journal" class="mobile-link">Journal</a>
        <a href="#media" class="mobile-link">Media</a>
        <a href="#resources" class="mobile-link">Resources</a>
      </div>
    </header>

    <main class="container">
      <section id="music" class="music-section">
        <h3 class="music-heading">
          Songs I was humming repetitively while working on this site:
        </h3>
        <div class="music-buttons">
          <button class="music-button" data-player="sway">
            Sway by Michael BublÃ©
          </button>
          <button class="music-button" data-player="night">
            Out for the Night by The MarÃ­as
          </button>
        </div>
        <div id="sway-player" class="music-player">
          <iframe
            width="560"
            height="315"
            src="https://www.youtube.com/embed/xeMOO5EudYs?si=UiaRBzWEePfUs0j2"
            title="YouTube video player"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            referrerpolicy="strict-origin-when-cross-origin"
            allowfullscreen
          ></iframe>
        </div>
        <div id="night-player" class="music-player">
          <iframe
            width="560"
            height="315"
            src="https://www.youtube.com/embed/NrXt1OkmwAI?si=Y0XF5ctek-GECmrL"
            title="YouTube video player"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            referrerpolicy="strict-origin-when-cross-origin"
            allowfullscreen
          ></iframe>
        </div>
      </section>

      <section id="journal">
        <h2>Shadowwork Journal Prompts</h2>
        <p>
          Reflect on these prompts whenever you're ready to explore deeper parts
          of yourself.
        </p>
        <div id="journal-content"></div>
      </section>

      <section id="media">
        <h2>Comfort Media</h2>
        <p>
          Content creators you might enjoy.
        </p>
        <div class="media-grid" id="media-grid"></div>

        <!-- TikTok video link -->
        <div class="video-link-container">
          <a href="/mellington-care-den/images/blessedtiktok.mp4" target="_blank" class="video-link">
            <div class="video-thumbnail">
              <i class="fas fa-video"></i>
              <span>Blessed TikTok</span>
            </div>
          </a>
        </div>
      </section>

      <section id="resources">
        <h2>Resources</h2>
        <p>Links, tools, and resources to help during difficult times.</p>

        <div class="resources-grid">
          <!-- Digital Hugs -->
          <div class="resource-card animated">
            <h4>Digital Hugs</h4>
            <p>
              Sometimes we all need a hug, even if it's virtual. Here's a
              collection of comforting digital hugs for when you need them:
            </p>
            <a
              href="https://giphy.com/explore/hug"
              class="resource-link"
              target="_blank"
              rel="noopener"
              >Digital Hugs <i class="fas fa-external-link-alt"></i
            ></a>
          </div>

          <!-- Gentle Reminders -->
          <div class="resource-card animated">
            <h4>Gentle Reminders</h4>
            <p>
              Gentle reminder: breathe, drink water, you matter, and it's okay
              to take breaks.
            </p>
          </div>
          
    <footer>
      <div class="container">
        <div class="footer-content">
          <div class="footer-logo">
            <h2>Journal Package</h2>
            <p>Created with ðŸ’– for Laila</p>
          </div>
          <div class="footer-text">
            <p>&copy; 2025 Journal Package</p>
            <p>May this bring you comfort whenever you need it.</p>
          </div>
        </div>
      </div>
    </footer>
        <script>

      const journalPrompts = [
        {
          title: "Acknowledging Your Shadow Self",
          prompts: [
            "What parts of yourself do you try to hide from others? Why?",
            "When do you find yourself acting in ways that contradict your values?",
            "What criticism from others triggers the strongest emotional reaction in you? What might this reveal about your insecurities?",
            "In what situations do you feel most inauthentic or like you're wearing a mask?",
            "What recurring patterns or behaviors do you wish you could change?",
          ],
        },
        {
          title: "Processing Difficult Emotions",
          prompts: [
            "Describe a recent situation where you felt angry. What was beneath that anger?",
            "What fear has the strongest grip on your life right now?",
            "What grief or loss have you not fully processed?",
            "When do you tend to shame yourself? What would you say to a friend in the same situation?",
            "What emotions do you find most difficult to express? Why?",
          ],
        },
        {
          title: "Examining Your Relationships",
          prompts: [
            "In what ways do your past relationships influence your current ones?",
            "What boundaries do you need to establish or reinforce in your relationships?",
            "How do you react when you feel abandoned or rejected?",
            "What patterns do you notice in your choice of friends or partners?",
            "Whose approval do you seek most? What does this reveal about your values or insecurities?",
          ],
        },
      ];
          
      const mediaLists = {
        movies: [
          { title: "The Intern", year: "2015" },
          { title: "The Sound of Music", year: "1965" },
          { title: "Harry Potter", year: "2001-2011" },
          { title: "Forest Gump", year: "1994" },
          { title: "The Pursuit of Happiness", year: "2006" },
          { title: "How to Lose a Guy in 10 Days", year: "2003" },
          { title: "Big", year: "1988" },
          { title: "The Invisible Man", year: "2020" },
          { title: "She's the Man", year: "2006" },
          { title: "Hitch", year: "2005" },
          { title: "Men in Black", year: "1997" },
          { title: "Rush Hour", year: "1998" },
          { title: "Kung Fu Hustle", year: "2004" },
          { title: "Crouching Tiger, Hidden Dragon", year: "2000" },
          { title: "Along with the Gods", year: "2017" },
          { title: "Real Steel", year: "2011" },
          { title: "I, Robot", year: "2004" },
          { title: "The Terminator", year: "1984" },
          { title: "Maze Runner", year: "2014" },
          { title: "Guardians of the Galaxy", year: "2014" },
          { title: "Planet of the Apes", year: "2011" },
          { title: "Doctor Strange", year: "2016" },
          { title: "Train to Busan", year: "2016" },
          { title: "Midnight Runners", year: "2017" },
          { title: "Shang Chi and the Legend of the Ten Rings", year: "2021" },
          { title: "The Wolverine", year: "2013" },
          { title: "Spider-Man: Into the Spider-Verse", year: "2018" },
          { title: "Spider-Man: Across the Spider-Verse", year: "2023" },
          { title: "Fantastic 4", year: "2005" },
          { title: "Pirates of the Caribbean", year: "2003" },
          { title: "The Darkest Minds", year: "2018" },
          { title: "The Truman Show", year: "1998" },
          { title: "The Wizard of Oz", year: "1939" },
          { title: "Inception", year: "2010" },
          { title: "In Time", year: "2011" },
          { title: "Us", year: "2019" },
          { title: "The Martian", year: "2015" },
          { title: "Passengers", year: "2016" },
          { title: "The Hunger Games", year: "2012" },
          { title: "Arrival", year: "2016" },
          { title: "Overboard", year: "2018" },
          { title: "The Proposal", year: "2009" },
          { title: "Jumanji", year: "2017" },
          { title: "Cast Away", year: "2000" },
          { title: "The Devil Wears Prada", year: "2006" },
          { title: "Freedom Writers", year: "2007" },
          { title: "Bedtime Stories", year: "2008" },
          { title: "The Emperor's New Groove", year: "2000" },
          { title: "Ponyo", year: "2008" },
          { title: "My Octopus Teacher", year: "2020" },
        ],
        shows: [
          { title: "Modern Family", year: "2009-2020" },
          { title: "Kim's Convenience", year: "2016-2022" },
          { title: "Friends", year: "1994-2004" },
          { title: "The Good Place", year: "2016-2020" },
          { title: "The Office", year: "2005-2013" },
          { title: "Alice in Borderland", year: "2020" },
          { title: "Squid Game", year: "2021" },
          { title: "Strong Woman Do Bong Soon", year: "2017" },
          { title: "Naked and Afraid", year: "2013" },
          { title: "Mythbusters", year: "2003" },
          { title: "I Can See Your Voice", year: "2020" },
          { title: "Young Sheldon", year: "2017" },
          { title: "How It Works", year: "2012" },
          {title: "Avatar: The Last Airbender", year: "2005-2008" },
        ],
        creators: [
          {
            title: "Back 2 Basics Adventures",
            description:
              "Australian dude that does survival challenges and explains history of Australian areas in a storytelling kind of way(videos are typically 30 minutes to an hour long)",
          },
          {
            title: "Tom Scott",
            description:
              "Brit dude explaining random interesting facts(videos are typically 3 to 6 minutes long)",
          },
        ],
      };

      function renderJournalPrompts() {
        const journalContent = document.getElementById("journal-content");
        if (!journalContent) {
          console.error("Journal content element not found");
          return;
        }
        journalContent.innerHTML = '';

        journalPrompts.forEach((category) => {
          const categoryCard = document.createElement("div");
          categoryCard.className = "card";
          categoryCard.style.marginBottom = "2rem";

          let promptsHTML = "";
          category.prompts.forEach((prompt) => {
            promptsHTML += `<div class="prompt-card">${prompt}</div>`;
          });

          categoryCard.innerHTML = `
          <div class="card-header">
            <h3 class="card-title">${category.title}</h3>
          </div>
          <div class="card-content open">
            ${promptsHTML}
          </div>
        `;

          journalContent.appendChild(categoryCard);
        });
      }

      function renderMediaLists() {
        const mediaGrid = document.getElementById("media-grid");
        if (!mediaGrid) {
          console.error("Media grid element not found");
          return;
        }
        mediaGrid.innerHTML = '';

        // Content creators card
        const creatorsCard = document.createElement("div");
        creatorsCard.className = "media-card animated";

        let creatorsHTML = `<h4>YouTube/Content Creators</h4><div class="media-list">`;
        mediaLists.creators.forEach((item) => {
          creatorsHTML += `
          <div class="media-item">
            <div><strong>${item.title}</strong><br>${item.description}</div>
          </div>
        `;
        });
        creatorsHTML += `</div>`;
        creatorsCard.innerHTML = creatorsHTML;
        mediaGrid.appendChild(creatorsCard);
      }
            // UI interaction functions
      function setupNavigation() {
        const header = document.getElementById("header");
        const navLinks = document.querySelectorAll(".nav-link");
        const mobileLinks = document.querySelectorAll(".mobile-link");
        const menuToggle = document.getElementById("menu-toggle");
        const mobileMenu = document.getElementById("mobile-menu");

        // Header scroll effect
        window.addEventListener("scroll", () => {
          if (window.scrollY > 50) {
            header.classList.add("scrolled");
          } else {
            header.classList.remove("scrolled");
          }
        });

        // Active link highlighting
        const sections = document.querySelectorAll("section");
        
        window.addEventListener("scroll", () => {
          let current = "";
          sections.forEach((section) => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (window.scrollY >= sectionTop - 200) {
              current = section.getAttribute("id");
            }
          });

          if (current) {
            navLinks.forEach((link) => {
              const href = link.getAttribute("href");
              const sectionId = href ? href.replace("#", "") : null;
              if (sectionId === current) {
                link.classList.add("active");
              } else {
                link.classList.remove("active");
              }
            });

            mobileLinks.forEach((link) => {
              const href = link.getAttribute("href");
              const sectionId = href ? href.replace("#", "") : null;
              if (link.getAttribute("href") === `#${current}`) {
                link.classList.add("active");
              } else {
                link.classList.remove("active");
              }
            });
          }
        });

        // Mobile menu toggle
        if (menuToggle && mobileMenu) {
          menuToggle.addEventListener("click", () => {
            mobileMenu.classList.toggle("open");
          });
        }

        // Close mobile menu on link click
        mobileLinks.forEach((link) => {
          link.addEventListener("click", () => {
            if (mobileMenu) {
              mobileMenu.classList.remove("open");
            }
          });
        });
      }

      function setupTabs() {
        const tabs = document.querySelectorAll(".tab");

        tabs.forEach((tab) => {
          tab.addEventListener("click", () => {
            const tabName = tab.getAttribute("data-tab");

            // Update active tab
            document.querySelectorAll(".tab").forEach((t) => {
              t.classList.remove("active");
            });
            tab.classList.add("active");

            // Show corresponding content
            document.querySelectorAll(".tab-content").forEach((content) => {
              content.classList.remove("active");
            });
            const tabContent = document.getElementById(`${tabName}-content`);
            if (tabContent) {
              tabContent.classList.add("active");
            }
          });
        });
      }

      function setupThemeToggle() {
        const themeToggle = document.getElementById("theme-toggle");
        const mobileThemeToggle = document.getElementById("mobile-theme-toggle");
        
        // Check for saved theme preference or use system preference
        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        let isDarkMode = localStorage.getItem("darkMode");
        
        // If no preference saved, use system preference
        if (isDarkMode === null) {
          isDarkMode = systemPrefersDark;
        } else {
          // Convert string to boolean
          isDarkMode = isDarkMode === "true";
        }

        // Set initial theme
        setTheme(isDarkMode);

        // Toggle function
        function toggleTheme() {
          isDarkMode = !document.body.classList.contains("dark-mode");
          setTheme(isDarkMode);
        }

        // Apply theme function
        function setTheme(darkMode) {
          if (darkMode) {
            document.body.classList.add("dark-mode");
            localStorage.setItem("darkMode", "true");
            updateThemeIcons(true);
          } else {
            document.body.classList.remove("dark-mode");
            localStorage.setItem("darkMode", "false");
            updateThemeIcons(false);
          }
        }

        // Update icon function
        function updateThemeIcons(isDark) {
          const icon = isDark ? "sun" : "moon";
          [themeToggle, mobileThemeToggle].forEach(button => {
            if (button) {
              button.innerHTML = `<i class="fas fa-${icon}"></i>`;
            }
          });
        }

        // Event listeners
        if (themeToggle) themeToggle.addEventListener("click", toggleTheme);
        if (mobileThemeToggle) mobileThemeToggle.addEventListener("click", toggleTheme);

        // Watch for system theme changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
          if (localStorage.getItem("darkMode") === null) {
            setTheme(e.matches);
          }
        });
      }

      function setupMusicPlayerExclusivity() {
        const musicButtons = document.querySelectorAll(".music-button");
        const musicPlayers = document.querySelectorAll(".music-player");

        // Function to stop all YouTube videos
        function stopAllVideos() {
          musicPlayers.forEach((player) => {
            const iframe = player.querySelector("iframe");
            if (iframe) {
              // This reloads the iframe, effectively stopping the video
              iframe.src = iframe.src;
            }
          });
        }

        musicButtons.forEach((button) => {
          button.addEventListener("click", () => {
            const playerId = button.getAttribute("data-player");

            // First stop all videos
            stopAllVideos();

            // Update active button
            musicButtons.forEach((btn) => {
              btn.classList.remove("active");
            });
            button.classList.add("active");

            // Show corresponding player
            musicPlayers.forEach((player) => {
              player.classList.remove("active");
            });
            const playerElement = document.getElementById(`${playerId}-player`);
            if (playerElement) {
              playerElement.classList.add("active");
            }
          });
        });
      }

      function showFullStory(title, content) {
        try {
          const win = window.open('', '_blank');
          if (!win) {
            alert("Popup blocked! Please allow popups for this site to view the full story.");
            return false;
          }

          let decodedTitle = decodeEntities(title);
          let decodedContent = decodeEntities(content);
          decodedContent = decodedContent.replace(/\\n/g, '\n');
  
          win.document.write(`
          <html>
            <head>
              <title>${decodedTitle}</title>
              <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
              <style>
                body {
                  font-family: 'Poppins', sans-serif;
                  line-height: 1.6;
                  color: #3D405B;
                  max-width: 800px;
                  margin: 0 auto;
                  padding: 2rem;
                  background-color: #fffbf8;
                  white-space: pre-line;
                }
                h1 {
                  font-family: 'Playfair Display', serif;
                  color: #a57456;
                  margin-bottom: 1.5rem;
                }
                .content {
                  white-space: pre-line;
                }
              </style>
            </head>
            <body>
              <h1>${decodedTitle}</h1>
              <div class="content">${decodedContent}</div>
            </body>
          </html>
          `);
          win.document.close();
        } catch (error) {
          console.error("Error opening story in new tab:", error);
          alert("There was an error opening the story. Please try again.");
        }
        return false;
      }  

      function decodeEntities(text) {
        const textarea = document.createElement('textarea');
        textarea.innerHTML = text;
        return textarea.value;
      }
          
      function openEncodedStory(encodedTitle, encodedContent) {
        try {
          const title = decodeURIComponent(atob(encodedTitle));
          const content = decodeURIComponent(atob(encodedContent));
          return showFullStory(title, content);
        } catch (error) {
          console.error("Error decoding story:", error);
          alert("There was an error opening the story. Please try again.");
          return false;
        }
      }
          
      function initializeApp() {
        console.log("Initializing app...");
        renderLetters();
        renderJournalPrompts();
        renderFoodData();
        renderAffirmations();
        renderMediaLists();
        setupNavigation();
        setupTabs();
        setupThemeToggle();
        setupMusicPlayerExclusivity();
      }

      // Use only one event listener for initialization
      document.addEventListener("DOMContentLoaded", initializeApp);
    </script>

    <!-- Back to Lobby Button -->
    <div style="text-align: center; margin: 3rem 0;">
      <a href="main.html" 
         class="lobby-button"
         style="
          display: inline-block;
          padding: 0.75rem 1.5rem;
          background-color: var(--primary);
          color: white;
          text-decoration: none;
          font-weight: 500;
          border-radius: 0.5rem;
          box-shadow: 0 4px 6px var(--shadow);
          transition: all 0.3s ease;
         "
onmouseover="this.style.backgroundColor='var(--secondary)'; this.style.transform='translateY(-2px)'"
onmouseout="this.style.backgroundColor='var(--primary)'; this.style.transform='translateY(0)'">
        <i class="fas fa-arrow-left" style="margin-right: 0.5rem;"></i>
        Back to Lobby
      </a>
    </div>
  </body>
</html>
